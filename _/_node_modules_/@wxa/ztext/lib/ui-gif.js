require("../../../../../common.js");

var webpackJsonp = wx.webpackJsonp;

webpackJsonp([ 8 ], {
    90: function(t, a, s) {
        s(91);
    },
    91: function(t, a) {
        Component({
            externalClasses: [ "block-class" ],
            data: {
                showGif: !1,
                isLoading: !1,
                status: "normal"
            },
            properties: {
                node: Object
            },
            attached: function() {
                var t = this.data.node;
                this.setData(function(t) {
                    var a = t.children.find(function(t) {
                        return "img" === t.name;
                    }), s = t.children.filter(function(t) {
                        return t !== a;
                    });
                    return {
                        src: a.attrs["data-actualsrc"],
                        poster: a.attrs["data-thumbnail"],
                        width: a.attrs["data-rawwidth"] || a.attrs.width,
                        height: a.attrs["data-rawheight"] || a.attrs.height,
                        class: a.attrs.class,
                        restNodes: s
                    };
                }(t));
            },
            methods: {
                handleTap: function() {
                    this.loadGif();
                },
                loadGif: function() {
                    "loading" === this.data.status || this.data.showGif || this.setData({
                        showGif: !0,
                        status: "loading"
                    });
                },
                handleGifLoad: function() {
                    this.setData({
                        status: "loaded"
                    });
                },
                handleGifError: function() {
                    this.setData({
                        showGif: !1,
                        status: "error"
                    });
                }
            }
        });
    }
}, [ 90 ]);